<app-toolbar-form [header]="'Add a Client'"></app-toolbar-form>
<p-tabs value="0" styleClass="p-3">
  <p-tablist>
    <p-tab value="0">Company</p-tab>
    <p-tab value="1">Individual</p-tab>
  </p-tablist>
  <p-tabpanels>
    <p-tabpanel value="0">
      <p-stepper [value]="1" class="basis-[50rem] mb-2">
        <p-step-panels>
          <p-step-panel [value]="1">
            <ng-template #content let-activateCallback="activateCallback">
              <div class="flex flex-col">
                <app-form
                  [title]="'Main Information'"
                  [description]="
                    'Introduce your company core info quickly to users by fill up company details'
                  "
                  [addClientShowMain]="true"
                  [addClient]="true"
                  [formGroup]="companyMainForm"
                ></app-form>
                <div class="">
                  <div
                    class="col-sm-6 d-flex justify-end float-right margin-top p-0 w-100"
                    (click)="
                      companyMainForm.valid
                        ? activateCallback(2)
                        : companyMainForm.markAllAsTouched()
                    "
                  >
                    <p-button class="custom-save m-0" label="Next" />
                  </div>
                </div>
              </div>
            </ng-template>
          </p-step-panel>

          <p-step-panel [value]="2">
            <ng-template #content let-activateCallback="activateCallback">
              <div class="flex flex-col">
                <app-form
                  [title]="'Legal Information'"
                  [description]="'This information will be displayed publicly'"
                  [addClientShowLegal]="true"
                  [addClient]="true"
                  [formGroup]="companyLegalForm"
                ></app-form>
                <div class="row two-buttons margin-top">
                  <div class="col-sm-6" (click)="activateCallback(1)">
                    <p-button label="Previous" class="custom-back" />
                  </div>
                  <div class="col-sm-6 m-0" (click)="activateCallback(3)">
                    <p-button
                      label="Next"
                      class="custom-save m-0 float-right"
                      (click)="
                        companyLegalForm.valid
                          ? activateCallback(3)
                          : companyLegalForm.markAllAsTouched()
                      "
                    />
                  </div>
                </div>
              </div>
            </ng-template>
          </p-step-panel>

          <p-step-panel [value]="3">
            <ng-template #content let-activateCallback="activateCallback">
              <div class="flex flex-col">
                <app-form
                  [title]="'Business Information'"
                  [description]="'This information will be displayed publicly'"
                  [addClientShowBusiness]="true"
                  [addClient]="true"
                  [formGroup]="companyBusinessForm"
                ></app-form>
                <div class="row two-buttons margin-top">
                  <div class="col-sm-6" (click)="activateCallback(2)">
                    <p-button
                      label="Previous"
                      class="custom-back d-flex justify-start"
                    />
                  </div>
                  <div class="col-sm-6 m-0">
                    <p-button
                      label="Save Information"
                      class="custom-save2 m-0 float-right"
                      (click)="
                        companyBusinessForm.valid
                          ? saveCompany()
                          : companyBusinessForm.markAllAsTouched()
                      "
                    />
                  </div>
                </div>
              </div>
            </ng-template>
          </p-step-panel>
        </p-step-panels>
      </p-stepper>
    </p-tabpanel>
    <p-tabpanel value="1">
      <app-form
        [title]="'Main Information'"
        [description]="
          'Introduce your company core info quickly to users by fill up company
details'
        "
        [addClientShowIndividual]="true"
        [addClient]="true"
        [formGroup]="individualForm"
      ></app-form>
      <div class="row justify-end">
        <div class="col-sm-12 col-md-6 d-flex justify-end margin-top">
          <p-button
            label="Save Information"
            class="custom-save m-0 float-right"
            (click)="
              individualForm.valid
                ? saveIndividual()
                : individualForm.markAllAsTouched()
            "
          />
        </div>
      </div>
    </p-tabpanel>
  </p-tabpanels>
</p-tabs>
